!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/",n(n.s=821)}({20:function(t,e,n){"use strict";n.r(e),n.d(e,"sendEmailSubmitConversion",(function(){return i})),n.d(e,"sendAccountCreatedConversion",(function(){return r})),n.d(e,"sendPurchasedSchoolPlanConversion",(function(){return o}));var i=function(){return new Promise((function(t){fbq("trackCustom","Email Submitted"),window.gtag("event","conversion",{send_to:"AW-959285871/L-28CLax0bQBEO-UtskD",event_callback:t})}))},r=function(){return new Promise((function(t){fbq("trackCustom","Account Created"),window.gtag("event","account created",{send_to:"AW-959285871/L-28CLax0bQBEO-UtskD",event_callback:t})}))},o=function(){return new Promise((function(t){fbq("trackCustom","Purchased Plan"),window.gtag("event","purchased plan",{send_to:"AW-959285871/L-28CLax0bQBEOx-UtskD",event_callback:t})}))}},821:function(t,e,n){function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(20).sendEmailSubmitConversion;$(document).ready((function(){c.initialize()}));var c={IRIS_EVENT_NAME:"marketing_submitted_content_download_request",$container:null,$emailInput:null,$identificationSelect:null,initialize:function(){this.$container=$(".content-download-landing-page"),this.$emailInput=this.getEl("#email-input"),this.$identificationSelect=this.getEl("#identification-select"),this.$emailInput.on("keydown",this.clearErrors.bind(this)),this.$identificationSelect.on("change",this.clearErrors.bind(this)),this.getEl("form").on("submit",this.onSubmit.bind(this))},getEl:function(t){return this.$container.find(t)},formData:function(){return{email:this.$emailInput.val(),identification:this.$identificationSelect.val()}},validate:function(){var t=!0,e=this.formData();Common.validateEmail(e.email)||(this.$emailInput.addClass("error"),t=!1);var n=!!e.identification;return console.log("valid id:",!!e.identification),n||(this.$identificationSelect.addClass("error"),t=!1),t},clearErrors:function(){this.$emailInput.removeClass("error"),this.$identificationSelect.removeClass("error")},onSubmit:function(t){if(t.preventDefault(),this.validate()){var e=this.formData();localStorage.setItem("email",e.email),this.emitIrisData(),a(),setTimeout(this.redirect,500)}},emitIrisData:function(){var t=this.formData(),e={cta:{text:this.getEl('button[type="submit"]')[0].innerText,url:this.getEl(".redemption-link")[0].innerText},title:this.getEl("h1.default-header")[0].innerText,body_text:this.getEl(".main-text-container").html()};Tracking.irisEmit(this.IRIS_EVENT_NAME,{eventName:"Marketing - Submitted Content Download Request",email:t.email,creator_type:t.identification,content_info:e,instanceId:1,isEmailSubmittedEvent:!0,target:"iterable"}),Iterable.sendEvent({eventName:this.IRIS_EVENT_NAME,email:t.email,instanceId:1,isEmailSubmittedEvent:!0,data:r({},e,{creator_type:t.identification})})},redirect:function(){var t=$("#custom-redirect")[0];if(t)window.location.href=t.dataset.url;else{var e=$("#content-download-payload")[0].dataset.slug;window.location.href="/get/"+e+"/thank-you"}}}}});
//# sourceMappingURL=content-download-landing-page-bundle-3d6eb8d45e2f37c43fd6.js.map